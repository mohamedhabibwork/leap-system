# ============================================
# APPLICATION CONFIGURATION
# ============================================

# Server
PORT=3000
HOST=localhost

# Environment
NODE_ENV=development

# ============================================
# DATABASE
# ============================================

DATABASE_URL=postgresql://postgres:@localhost:5432/leap_lms

# ============================================
# AUTHENTICATION & AUTHORIZATION
# ============================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=7d
JWT_REFRESH_EXPIRATION=30d

# Keycloak (Authentication Server)
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=leap-lms
KEYCLOAK_CLIENT_ID=leap-lms-backend
KEYCLOAK_CLIENT_SECRET=your-keycloak-client-secret
KEYCLOAK_PUBLIC_KEY=

# Keycloak Admin (for user/role synchronization)
KEYCLOAK_ADMIN_URL=http://localhost:8080
KEYCLOAK_ADMIN_CLIENT_ID=admin-cli
KEYCLOAK_ADMIN_CLIENT_SECRET=
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Keycloak Sync Settings
KEYCLOAK_SYNC_ENABLED=true
KEYCLOAK_SYNC_ON_CREATE=true
KEYCLOAK_SYNC_ON_UPDATE=true

# ============================================
# MESSAGE QUEUES & EVENT STREAMING
# ============================================

# RabbitMQ (Task Queue)
RABBITMQ_URL=amqp://guest:guest@localhost:5672
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# Kafka (Event Streaming)
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=leap-lms-backend
KAFKA_GROUP_ID=leap-lms-group

# Redis (Caching & Sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# STORAGE & MEDIA
# ============================================

# Storage Provider (options: local, minio, r2, s3)
STORAGE_PROVIDER=minio

# MinIO (S3-compatible Object Storage)
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=leap-lms
MINIO_PUBLIC_URL=http://localhost:9000

# Cloudflare R2 (Alternative Storage)
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET=leap-lms
R2_PUBLIC_URL=https://your-custom-domain.com

# AWS S3 (Alternative Storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_BUCKET=leap-lms
AWS_S3_PUBLIC_URL=

# ============================================
# PAYMENT PROCESSING
# ============================================

# PayPal
PAYPAL_MODE=sandbox
PAYPAL_CLIENT_ID=your-paypal-sandbox-client-id
PAYPAL_CLIENT_SECRET=your-paypal-sandbox-secret

# Stripe (if used)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# EMAIL SERVICE
# ============================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_SECURE=false

# Email Sender Info
FROM_EMAIL=noreply@leap-lms.com
FROM_NAME=LEAP LMS

# ============================================
# PUSH NOTIFICATIONS
# ============================================

# Firebase Cloud Messaging (FCM)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"

# Firebase Admin SDK JSON (alternative to individual fields)
FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# ============================================
# FRONTEND INTEGRATION
# ============================================

# Frontend URL (for email links, CORS, etc.)
FRONTEND_URL=http://localhost:3001

# CORS Configuration
CORS_ORIGIN=http://localhost:3001,http://localhost:3000
CORS_CREDENTIALS=true

# ============================================
# MONITORING & LOGGING
# ============================================

# Logging
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/app.log

# Sentry (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================

# Google APIs (if used)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# Facebook OAuth (if used)
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
FACEBOOK_CALLBACK_URL=http://localhost:3000/auth/facebook/callback

# LinkedIn OAuth (if used)
LINKEDIN_CLIENT_ID=
LINKEDIN_CLIENT_SECRET=
LINKEDIN_CALLBACK_URL=http://localhost:3000/auth/linkedin/callback

# Zoom Integration (for live sessions)
ZOOM_API_KEY=
ZOOM_API_SECRET=
ZOOM_WEBHOOK_SECRET=

# ============================================
# RATE LIMITING & SECURITY
# ============================================

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Security
BCRYPT_ROUNDS=10
SESSION_SECRET=your-session-secret-change-this

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/Disable Features
ENABLE_GRAPHQL=true
ENABLE_WEBSOCKETS=true
ENABLE_SWAGGER=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true

# ============================================
# DEVELOPMENT & TESTING
# ============================================

# Debug Mode
DEBUG=false
VERBOSE_LOGGING=false

# Database Seeding
AUTO_SEED_DATABASE=false

# Testing
TEST_DATABASE_URL=postgresql://postgres:@localhost:5432/leap_lms_test
